= Game of Thrones GraphGist

    Because winter is coming

:author: Ivan Mosiev, George Martin ;)
:twitter: @polny_otec

== Prologue

[source,cypher]
----
CREATE (NightsWatch:organization{name: "Night's Watch"})
CREATE (HouseRoyce:house{name: 'Royce'})
CREATE (WaymarRoyce:character:knight:noble:ranger{name:'Waymar'})-[h1:from_house]->(HouseRoyce)
CREATE (WaymarRoyce)-[s1:serves]->(NightsWatch)
CREATE (Will:caharacter:ranger:pointOfView{name: 'Will'})-[s2:serves]->(NightsWatch)
CREATE (Gared:caharacter:ranger { name: 'Gared' })-[s3:serves]->(NightsWatch) 
CREATE (Gared)<-[c1:commands]-(WaymarRoyce)-[c2:commands]->(Will)
CREATE (Others:race{name: "Others", also_known_as: ["White Walkers"]})
CREATE (Will)<-[k1:kill{how: "in battle"}]-(Others)-[k2:kill{how: "in battle"}]->(WaymarRoyce)
CREATE (Gared)-[d1:deserts]->(NightsWatch)
RETURN h1, s1, s2, s3, c1, c2, Will, Gared, WaymarRoyce, Others, k1, k2, d1
----

//graph

== Bran 1

[source,cypher]
----
CREATE (BranStark:character:pointOfView:noble:greensight:skinchanger{name: "Bran"})-[h2:from_house]->(HouseStark:house{name: "Stark"})
CREATE (HouseStark)<-[hd1:head]-(LordEddardStark:character:pointOfView:noble{name: "Eddard", also_known_as: ["Ned"]})-[h3:from_house]->(HouseStark)
CREATE (theNorth:kingdom{name: "North"})<-[w1:warden]-(LordEddardStark)-[l1:lord]->(Winterfell:castle{name: "Winterfell"})
CREATE (RobbStark:character:noble{name: "Robb"})-[h1:heir]->(LordEddardStark)
CREATE (BranStark)<-[f1:father]-(LordEddardStark)-[f2:father]->(RobbStark)
CREATE (OldNan:character{name: "Nan", also_known_as: ["Old Nan"]})-[s4:serves]->(HouseStark)
CREATE (RobbStark)<-[n1:nurse]-(OldNan)-[n2:nurse]->(BranStark)
CREATE (Desmond:character{name: "Desmond"})-[s5:serves]->(HouseStark)
CREATE (ManceRayder:character:wildling{name: "Mance", also_known_as: ["Mance Rayder", "King-Beyond-the-Wall"]})
CREATE (TheonGreyjoy:character:noble:pointOfView{name: "Theon"})-[wr1:ward]->(LordEddardStark)
CREATE (JonSnow:character:pointOfView:skinchanger{name: "Jon"})-[b1:bastard]->(LordEddardStark)
CREATE (LordEddardStark)-[f3:father]->(JonSnow)
CREATE (Ghost:direwolf{name: "Ghost"})-[bnd1:bound]->(JonSnow)
CREATE (GreyWind:direwolf{name: "Grey Wind"})-[bnd2:bound]->(RobbStark)
CREATE (Summer:direwolf{name: "Summer"})-[bnd3:bound]->(BranStark)
RETURN BranStark, RobbStark, LordEddardStark, theNorth, Winterfell, OldNan
----

[source,cypher]
----
START LordEddardStark=node:node_auto_index(name="Eddard"), Gared=node:node_auto_index(name='Gared')
CREATE (LordEddardStark)-[k3:kill { how: "execution" }]->(Gared)
RETURN LordEddardStark, Gared
----

//graph

=== Frags list so far

[source,cypher]
----
START n=node(*)
MATCH (n)<-[k:kill]-(x)
RETURN n as `Dead Character`, k.how as `How killed`, x as `By whom`
----

//table

=== Neo, do you remember what is the name of bastard and his direwolf?

[source,cypher]
----
MATCH ()<-[:bastard]-(person)<-[:bound]-(direwolf)
RETURN person, direwolf
----

//table

//console